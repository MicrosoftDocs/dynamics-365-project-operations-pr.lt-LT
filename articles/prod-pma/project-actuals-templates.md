---
title: Projekto faktinių duomenų sinchronizavimas tiesiogiai iš „Project Service Automation“ į projekto integravimo žurnalą norint paskelbti „Finance and Operations“
description: Šioje temoje aprašomi šablonai ir pagrindinė užduotys, kurios naudojamos norint sinchronizuoti projekto faktinius duomenis tiesiogiai iš „Microsoft Dynamics 365 Project Service Automation“ į „Finance and Operations“.
author: Yowelle
manager: AnnBe
ms.date: 07/20/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: andchoi
ms.search.validFrom: 2016-11-28
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: 11ccbd64c37341b2969e10e9a737f1aa4b4a61f9
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 02/15/2021
ms.locfileid: "5289694"
---
# <a name="synchronize-project-actuals-directly-from-project-service-automation-to-the-project-integration-journal-for-posting-in-finance-and-operations"></a><span data-ttu-id="a6ee7-103">Projekto faktinių duomenų sinchronizavimas tiesiogiai iš „Project Service Automation“ į projekto integravimo žurnalą norint paskelbti „Finance and Operations“</span><span class="sxs-lookup"><span data-stu-id="a6ee7-103">Synchronize project actuals directly from Project Service Automation to the project integration journal for posting in Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="a6ee7-104">Šioje temoje aprašomi šablonai ir pagrindinė užduotys, kurios naudojamos norint sinchronizuoti projekto faktinius duomenis tiesiogiai iš „Dynamics 365 Project Service Automation“ į „Dynamics 365 Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-104">This topic describes the templates and underlying tasks that are used to synchronize project actuals directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

<span data-ttu-id="a6ee7-105">Šablonas sinchronizuoja operacijas iš „Project Service Automation“ į paruošimo lenteles „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-105">The template synchronizes transactions from Project Service Automation into a staging table in Finance.</span></span> <span data-ttu-id="a6ee7-106">Baigę sinchronizuoti, **turite** importuoti duomenis iš paruošimo lentelės į integravimo žurnalą.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-106">After synchronization is completed, you **must** import the data from the staging table into the integration journal.</span></span>

> [!NOTE]
> - <span data-ttu-id="a6ee7-107">Projekto Faktinių duomenų integravimas galimas 8.0.1 ir naujesnėse versijoje.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-107">Project actuals integration is available starting in version 8.0.1.</span></span>
> - <span data-ttu-id="a6ee7-108">Jei naudojate „Enterprise Edition“ 7.3.0, įdiegę KB 4132657 ir KB 4132660, galėsite naudoti šablonus projektų užduotims, išlaidų operacijų kategorijoms, valandų įvertinimui, išlaidų įvertinimui ir faktiniams duomenims integruoti bei funkcijų blokavimui konfigūruoti.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-108">If you're using Enterprise edition 7.3.0 after you install KB 4132657 and KB 4132660, you will be able to use the templates to integrate project tasks, expense transaction categories, hour estimates, expense estimates, and actuals, and to configure functionality locking.</span></span> <span data-ttu-id="a6ee7-109">Jei reikia iš naujo nustatyti apskaitos paskirstymą, rekomenduojame įdiegti ir KB 4131710.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-109">If you must reset the accounting distributions, we recommend that you also install KB 4131710.</span></span>
> - <span data-ttu-id="a6ee7-110">Jei naudojate 7.3.0 versiją ir norite įtraukti mokesčių operacijas iš „Project Service Automation“, turite įdiegti KB 4345320, kad įtrauktumėte šiuos mokesčius į projekto sąskaitą faktūrą.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-110">If you're using version 7.3.0, and you are bringing fee transactions over from Project Service Automation, you must install KB 4345320 in order to include those fees in the project invoice.</span></span>
> - <span data-ttu-id="a6ee7-111">Jei pardavimo mokesčių sumas įvedate laiko arba išlaidų operacijose „Project Service Automation“, turite įdiegti „Project Service Automation“ 7 naujinį.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-111">If you're entering sales tax amounts on time or expense transactions in Project Service Automation, you must install Project Service Automation Update 7.</span></span> <span data-ttu-id="a6ee7-112">Kitaip mokesčių faktiniai duomenys nebus susieti su susijusiais laiko ar išlaidų faktiniais duomenimis ir jų nebus galima sinchronizuoti į „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-112">Otherwise, the tax actuals won't be linked to the associated time or expense actuals, and they won't be synchronized to Finance.</span></span> <span data-ttu-id="a6ee7-113">Susisiekite su palaikymo komanda, kad gautumėte daugiau informacijos.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-113">For more information, contact Support.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="a6ee7-114">Duomenų srautas iš „Project Service Automation“ į „Finance“</span><span class="sxs-lookup"><span data-stu-id="a6ee7-114">Data flow for Project Service Automation to Finance</span></span>

<span data-ttu-id="a6ee7-115">Naudojant „Project Service Automation“ į „Finance“ integravimo sprendimą, naudojama duomenų integravimo funkcija, sinchronizuojant duomenis „Project Service Automation“ ir „Finance“ egzemplioriuose.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-115">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="a6ee7-116">Integravimo šablonai, kuriuos galima naudoti su duomenų integravimo funkcija, įjungia duomenų srautą apie projektų faktinius duomenis iš „Project Service Automation“ į „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-116">The integration templates that are available with the Data integration feature enable the flow of data about project actuals from Project Service Automation to Finance.</span></span>

<span data-ttu-id="a6ee7-117">Šioje iliustracijoje pavaizduota, kaip duomenys sinchronizuojami tarp „Project Service Automation“ ir „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-117">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="a6ee7-118">[![„Project Service Automation“ integravimas su „Finance and Operations“](./media/ProjectActualsFlow.jpg)](./media/ProjectActualsFlow.jpg)</span><span class="sxs-lookup"><span data-stu-id="a6ee7-118">[![Data flow for Project Service Automation integration with Finance and Operations](./media/ProjectActualsFlow.jpg)](./media/ProjectActualsFlow.jpg)</span></span>

## <a name="project-actuals-from-project-service-automation"></a><span data-ttu-id="a6ee7-119">Projekto faktiniai duomenys iš „Project Service Automation“</span><span class="sxs-lookup"><span data-stu-id="a6ee7-119">Project actuals from Project Service Automation</span></span>

### <a name="template-and-tasks"></a><span data-ttu-id="a6ee7-120">Šablonas ir užduotys</span><span class="sxs-lookup"><span data-stu-id="a6ee7-120">Template and tasks</span></span>

<span data-ttu-id="a6ee7-121">Norėdami pasiekti galimus šablonus, „Microsoft Power Apps“ administravimo centre pasirinkite **Projektai**, tada viršutiniame dešiniajame kampe pasirinkite **Naujas projektas** ir viešuosius šablonus.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-121">To access the available templates, in the Microsoft Power Apps admin center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="a6ee7-122">Toliau pateikiamas šablonas ir pagrindinės užduotys naudojamos norint sinchronizuoti projekto faktinius duomenis iš „Project Service Automation“ į „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-122">The following template and underlying tasks are used to synchronize project actuals from Project Service Automation to Finance:</span></span>

- <span data-ttu-id="a6ee7-123">**Šablono pavadinimas pasirinkus duomenų integravimą:** projekto faktiniai duomenys (PSA į „Fin and Ops“)</span><span class="sxs-lookup"><span data-stu-id="a6ee7-123">**Name of the template in Data integration:** Project actuals (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="a6ee7-124">**Projekto užduočių pavadinimas:**</span><span class="sxs-lookup"><span data-stu-id="a6ee7-124">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="a6ee7-125">Faktiniai duomenys</span><span class="sxs-lookup"><span data-stu-id="a6ee7-125">Actuals</span></span>
    - <span data-ttu-id="a6ee7-126">TransactionConnections</span><span class="sxs-lookup"><span data-stu-id="a6ee7-126">TransactionConnections</span></span>

### <a name="entity-set"></a><span data-ttu-id="a6ee7-127">Objektų rinkinys</span><span class="sxs-lookup"><span data-stu-id="a6ee7-127">Entity set</span></span>

| <span data-ttu-id="a6ee7-128">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="a6ee7-128">Project Service Automation</span></span> | <span data-ttu-id="a6ee7-129">Finansai</span><span class="sxs-lookup"><span data-stu-id="a6ee7-129">Finance</span></span>                                   |
|----------------------------|----------------------------------------------------------|
| <span data-ttu-id="a6ee7-130">Faktiniai duomenys</span><span class="sxs-lookup"><span data-stu-id="a6ee7-130">Actuals</span></span>                    | <span data-ttu-id="a6ee7-131">Projekto faktinių duomenų integravimo objektas</span><span class="sxs-lookup"><span data-stu-id="a6ee7-131">Integration entity for project actuals</span></span>                   |
| <span data-ttu-id="a6ee7-132">Operacijos ryšiai</span><span class="sxs-lookup"><span data-stu-id="a6ee7-132">Transaction Connections</span></span>    | <span data-ttu-id="a6ee7-133">Projekto operacijų ryšių integravimo objektas</span><span class="sxs-lookup"><span data-stu-id="a6ee7-133">Integration entity for project transaction relationships</span></span> |

### <a name="entity-flow"></a><span data-ttu-id="a6ee7-134">Objekto srautas</span><span class="sxs-lookup"><span data-stu-id="a6ee7-134">Entity flow</span></span>

<span data-ttu-id="a6ee7-135">Projekto faktiniai duomenys valdomi „Project Service Automation“, o sinchronizuojami į projekto integravimo žurnalą, esantį „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-135">Project actuals are managed in Project Service Automation, and they are synchronized to the project integration journal in Finance.</span></span> <span data-ttu-id="a6ee7-136">Apskaita bus taikoma remiantis numatytosiomis finansinėmis dimensijomis ir registravimo sąranka.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-136">The accounting will be applied based on default financial dimensions and the posting setup.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="a6ee7-137">Būtinosios sąlygos</span><span class="sxs-lookup"><span data-stu-id="a6ee7-137">Prerequisites</span></span>

<span data-ttu-id="a6ee7-138">Prieš sinchronizuodami faktinius duomenis, turite sukonfigūruoti „Project Service Automation“ integravimo parametrus ir sinchronizuoti projektus, projektų užduotis ir projekto išlaidų operacijų kategorijas.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-138">Before synchronization of actuals can occur, you must configure the Project Service Automation integration parameters and synchronize projects, project tasks, and project expense transaction categories.</span></span>

### <a name="power-query"></a><span data-ttu-id="a6ee7-139">„Power Query“</span><span class="sxs-lookup"><span data-stu-id="a6ee7-139">Power Query</span></span>

<span data-ttu-id="a6ee7-140">Projekto faktinių duomenų šablone turite naudoti „Microsoft Power Query for Excel”, kad atliktumėte tolesnes užduotis.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-140">In the project actuals template, you must use Microsoft Power Query for Excel to complete these tasks:</span></span>

- <span data-ttu-id="a6ee7-141">Pakeisti operacijos tipą „Project Service Automation“ į tinkamą operacijos tipą „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-141">Transform the transaction type in Project Service Automation to the correct transaction type in Finance.</span></span> <span data-ttu-id="a6ee7-142">Šis pakeitimas jau apibrėžtas projekto faktinių duomenų (PSA į „Fin and Ops“) žurnale.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-142">This transformation is already defined in the Project actuals (PSA to Fin and Ops) template.</span></span>
- <span data-ttu-id="a6ee7-143">Pakeisti atsiskaitymo tipą „Project Service Automation“ į tinkamą atsiskaitymo tipą „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-143">Transform the billing type in Project Service Automation to the correct billing type in Finance.</span></span> <span data-ttu-id="a6ee7-144">Šis pakeitimas jau apibrėžtas projekto faktinių duomenų (PSA į „Fin and Ops“) žurnale.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-144">This transformation is already defined in the Project actuals (PSA to Fin and Ops) template.</span></span> <span data-ttu-id="a6ee7-145">Tada atsiskaitymo tipas susiejamas su eilutės ypatybe pagal konfigūraciją puslapyje **„Project Service Automation“ integravimo parametrai**.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-145">The billing type is then mapped to the line property, based on the configuration on the **Project Service Automation integration parameters** page.</span></span>
- <span data-ttu-id="a6ee7-146">Filtruokite konkrečius išteklių organizacinius vienetus, kuriuos reikia sinchronizuoti su šiuo šablonu.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-146">Filter to specific resource organizational units that must be synchronized with this template.</span></span>
- <span data-ttu-id="a6ee7-147">Jei vidinės įmonės laiko arba vidinės įmonės išlaidų faktiniai duomenys bus sinchronizuojami su „Finance“, sutarties organizacinį vienetą turite pakeisti į tinkamą juridinį subjektą „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-147">If intercompany time or intercompany expense actuals will be synchronized to Finance, you must transform the contract organizational unit to the correct legal entity in Finance.</span></span> <span data-ttu-id="a6ee7-148">Projekto faktinių duomenų (PSA į „Fin ir Ops“) šablone sąlyginis stulpelis apibrėžiamas pagal parodomuosius duomenis.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-148">In the Project actuals (PSA to Fin and Ops) template, a conditional column is defined based on demo data.</span></span> <span data-ttu-id="a6ee7-149">Turite atnaujinti paskutinį įterptą sąlyginį stulpelį, kad jame būtų tinkami juridiniai subjektai.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-149">You must update the last inserted conditional column to the correct legal entities.</span></span> <span data-ttu-id="a6ee7-150">Priešingu atveju gali įvykti integravimo klaida arba į „Finance“ gali būti importuotos netinkamos faktinių duomenų operacijos.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-150">Otherwise, either an integration error might occur, or incorrect actual transactions might be imported into Finance.</span></span>
- <span data-ttu-id="a6ee7-151">Jei vidinės įmonės laiko arba vidinės įmonės išlaidų faktinės sumos nebus sinchronizuojamos į „Finance“, turite panaikinti paskutinį iš savo šablono įterptą sąlyginį stulpelį.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-151">If intercompany time or intercompany expense actuals won't be synchronized to Finance, you must delete the last inserted conditional column from your template.</span></span> <span data-ttu-id="a6ee7-152">Priešingu atveju gali įvykti integravimo klaida arba į „Finance“ gali būti importuotos netinkamos faktinių duomenų operacijos.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-152">Otherwise, either an integration error might occur, or incorrect actual transactions might be imported into Finance.</span></span>

#### <a name="contract-organizational-unit"></a><span data-ttu-id="a6ee7-153">Sutarties organizacinis vienetas</span><span class="sxs-lookup"><span data-stu-id="a6ee7-153">Contract organizational unit</span></span>
<span data-ttu-id="a6ee7-154">Norėdami atnaujinti į šabloną įterptą sąlyginį stulpelį, spustelėkite **Struktūros** rodyklę ir atidarykite susiejimą.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-154">To update the inserted conditional column in the template, click the **Map** arrow to open the mapping.</span></span> <span data-ttu-id="a6ee7-155">Spustelėkite saitą **Išankstinės užklausos ir filtravimas**, kad atidarytumėte „Power Query“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-155">Select the **Advanced Query and Filtering** link to open Power Query.</span></span>

- <span data-ttu-id="a6ee7-156">Jei naudojate numatytąjį projekto faktinių duomenų šabloną (PSA į „Fin and Ops“), „Power Query” skyriuje **Taikomi veiksmai** pasirinkite naujausią **įtrauktą sąlygą**.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-156">If you're using the default Project actuals (PSA to Fin and Ops) template, in Power Query, select the last **Inserted Condition** from the **Applied Steps** section.</span></span> <span data-ttu-id="a6ee7-157">Įraše **Funkcija** pakeiskite **USSI** juridinio subjekto pavadinimu, kuris turi būti naudojamas su šiuo integravimu.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-157">In the **Function** entry, replace **USSI** with the name of the legal entity that should be used with the integration.</span></span> <span data-ttu-id="a6ee7-158">Jei reikia, įtraukite papildomų sąlygų į **Funkcija** įrašą ir atnaujinkite būsena **kitas** iš **USMF** į teisingą juridinį subjektą.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-158">Add additional conditions to the **Function** entry as you require, and update the **else** condition from **USMF** to the correct legal entity.</span></span>
- <span data-ttu-id="a6ee7-159">Jei kuriate naują šabloną, turite įtraukti stulpelį, kuriame palaikomas vidinės įmonės laikas ir išlaidos.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-159">If you're creating a new template, you must add the column to support intercompany time and expenses.</span></span> <span data-ttu-id="a6ee7-160">Pasirinkite **Įtraukti sąlygos stulpelį** ir įveskite naujo stulpelio pavadinimą, pvz., **LegalEntity**.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-160">Select **Add Conditional Column**, and enter a name for the column, such as **LegalEntity**.</span></span> <span data-ttu-id="a6ee7-161">Įveskite stulpelio sąlygą, kur jei **msdyn\_contractorganizationalunitid.msdyn\_pavadinimas** yra \<organizational unit\>, tada \<enter the legal entity\>; kitu atveju neapibrėžta reikšmė.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-161">Enter a condition for the column, where, if **msdyn\_contractorganizationalunitid.msdyn\_name** is \<organizational unit\>, then \<enter the legal entity\>; else null.</span></span>

### <a name="template-mapping-in-data-integration"></a><span data-ttu-id="a6ee7-162">Šablonų susiejimas pasirinkus Duomenų integravimas</span><span class="sxs-lookup"><span data-stu-id="a6ee7-162">Template mapping in Data integration</span></span>

<span data-ttu-id="a6ee7-163">Šioje iliustracijoje pateikiamas duomenų integravimo šablonų užduočių susiejimo pavyzdys.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-163">The following illustrations show an example of the template task mapping in Data integration.</span></span> <span data-ttu-id="a6ee7-164">Susiejime rodoma lauko informacija, kuri bus sinchronizuojama iš „Project Service Automation“ į „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-164">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="a6ee7-165">[![Šablonų susiejimas – faktiniai duomenys](./media/ActualsMapping.jpg)](./media/ActualsMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="a6ee7-165">[![Template mapping - Actuals](./media/ActualsMapping.jpg)](./media/ActualsMapping.jpg)</span></span>

<span data-ttu-id="a6ee7-166">[![Šablonų susiejimas – operacijų ryšiai](./media/TransactionConnections.jpg)](./media/TransactionConnections.jpg)</span><span class="sxs-lookup"><span data-stu-id="a6ee7-166">[![Template mapping - Transaction connections](./media/TransactionConnections.jpg)](./media/TransactionConnections.jpg)</span></span>

## <a name="import-from-staging-table-after-integration-from-project-service-automation"></a><span data-ttu-id="a6ee7-167">Importavimas iš paruošimo lentelės po integravimo iš „Project Service Automation“</span><span class="sxs-lookup"><span data-stu-id="a6ee7-167">Import from staging table after integration from Project Service Automation</span></span>

<span data-ttu-id="a6ee7-168">Importavimo iš paruošimo lentelės periodinis procesas turi būti vykdomas sinchronizavus faktinius duomenis iš „Project Service Automation“ į „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-168">The Import from staging table periodic process must be run after the synchronization of actuals from Project Service Automation to Finance.</span></span> <span data-ttu-id="a6ee7-169">Šis procesas importuos projekto operacijas iš paruošimo lentelės į „Project Service Automation“ integravimo žurnalą, kuriame taikoma apskaita ir gali būti registruojamos importuotos operacijos.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-169">This process will import the project transactions from the staging table into the Project Service Automation integration journal, where the accounting is applied and the imported transactions can be posted.</span></span> <span data-ttu-id="a6ee7-170">Rekomenduojame paleisti šį procesą paketais; galima pasirinktinai nustatyti, kad ji būtų vykdoma kaip pasikartojantis paketas.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-170">We recommend that you run this process in batch mode; it can optionally be set up to run as a recurring batch.</span></span>

## <a name="update-actuals-from-finance"></a><span data-ttu-id="a6ee7-171">„Finance“ faktinių duomenų naujinimas</span><span class="sxs-lookup"><span data-stu-id="a6ee7-171">Update actuals from Finance</span></span>

### <a name="template-and-tasks"></a><span data-ttu-id="a6ee7-172">Šablonas ir užduotys</span><span class="sxs-lookup"><span data-stu-id="a6ee7-172">Template and tasks</span></span>

<span data-ttu-id="a6ee7-173">Šis šablonas ir pagrindinės užduotys naudojamos norint sinchronizuoti kvitų numerius ir pardavimo mokesčius, taikomus užregistruotoms projektų operacijoms, iš „Finance“ į „Project Service Automation“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-173">The following template and underlying tasks are used to synchronize the voucher number and sales taxes for posted project transactions from Finance to Project Service Automation:</span></span>

- <span data-ttu-id="a6ee7-174">**Šablono pavadinimas pasirinkus duomenų integravimą:** projekto faktinių duomenų naujinimas („Fin and Ops“ į PSA)</span><span class="sxs-lookup"><span data-stu-id="a6ee7-174">**Name of the template in Data integration:** Project actuals update (Fin Ops to PSA)</span></span>
- <span data-ttu-id="a6ee7-175">**Projekto užduočių pavadinimas:**</span><span class="sxs-lookup"><span data-stu-id="a6ee7-175">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="a6ee7-176">Faktiniai duomenys</span><span class="sxs-lookup"><span data-stu-id="a6ee7-176">Actuals</span></span> 
    - <span data-ttu-id="a6ee7-177">TransactionConnections</span><span class="sxs-lookup"><span data-stu-id="a6ee7-177">TransactionConnections</span></span>

### <a name="entity-set"></a><span data-ttu-id="a6ee7-178">Objektų rinkinys</span><span class="sxs-lookup"><span data-stu-id="a6ee7-178">Entity set</span></span>

| <span data-ttu-id="a6ee7-179">Finansai</span><span class="sxs-lookup"><span data-stu-id="a6ee7-179">Finance</span></span>                                                  | <span data-ttu-id="a6ee7-180">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="a6ee7-180">Project Service Automation</span></span> |
|----------------------------------------------------------|----------------------------|
| <span data-ttu-id="a6ee7-181">Projekto faktinių duomenų integravimo objektas</span><span class="sxs-lookup"><span data-stu-id="a6ee7-181">Integration entity for project actuals</span></span>                   | <span data-ttu-id="a6ee7-182">Faktiniai duomenys</span><span class="sxs-lookup"><span data-stu-id="a6ee7-182">Actuals</span></span>                    |
| <span data-ttu-id="a6ee7-183">Projekto operacijų ryšių integravimo objektas</span><span class="sxs-lookup"><span data-stu-id="a6ee7-183">Integration entity for project transaction relationships</span></span> | <span data-ttu-id="a6ee7-184">Operacijos ryšiai</span><span class="sxs-lookup"><span data-stu-id="a6ee7-184">Transaction Connections</span></span>    |

### <a name="entity-flow"></a><span data-ttu-id="a6ee7-185">Objekto srautas</span><span class="sxs-lookup"><span data-stu-id="a6ee7-185">Entity flow</span></span>

<span data-ttu-id="a6ee7-186">Projekto faktiniai duomenys valdomi „Project Service Automation“, o sinchronizuojami į projekto integravimo žurnalą, esantį „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-186">Project actuals are managed in Project Service Automation, and they are synchronized to the project integration journal in Finance.</span></span> <span data-ttu-id="a6ee7-187">Užregistravus faktinius duomenis „Finance“, jie atnaujinami „Project Service Automation“ suteikiant kvito numerį iš „Finance“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-187">After actuals are posted in Finance, they are updated in Project Service Automation with the voucher number from Finance.</span></span> <span data-ttu-id="a6ee7-188">Jei pardavimo mokesčiai įtraukti į „Finance“, „Project Service Automation“ sukuriami nauji mokesčio faktiniai duomenys.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-188">If sales taxes were added in Finance, new tax actuals are created in Project Service Automation.</span></span>

### <a name="power-query"></a><span data-ttu-id="a6ee7-189">„Power Query“</span><span class="sxs-lookup"><span data-stu-id="a6ee7-189">Power Query</span></span>

<span data-ttu-id="a6ee7-190">Projekto faktinių duomenų naujinimo šablone turite naudoti „Power Query”, kad atliktumėte tolesnes užduotis.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-190">In the project actuals update template, you must use Power Query to complete these tasks:</span></span>

- <span data-ttu-id="a6ee7-191">Pakeisti operacijos tipą „Finance“ į tinkamą operacijos tipą „Project Service Automation“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-191">Transform the transaction type in Finance to the correct transaction type in Project Service Automation.</span></span> <span data-ttu-id="a6ee7-192">Šis pakeitimas jau apibrėžtas projekto faktinių duomenų naujinimo („Fin and Ops“ į PSA) šablone.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-192">This transformation is already defined in the Project actuals update (Fin Ops to PSA) template.</span></span>
- <span data-ttu-id="a6ee7-193">Pakeisti atsiskaitymo tipą Finance“ į tinkamą atsiskaitymo tipą „Project Service Automation“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-193">Transform the billing type in Finance to the correct billing type in Project Service Automation.</span></span> <span data-ttu-id="a6ee7-194">Šis pakeitimas jau apibrėžtas projekto faktinių duomenų naujinimo („Fin and Ops“ į PSA) šablone.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-194">This transformation is already defined in the Project actuals update (Fin Ops to PSA) template.</span></span>

### <a name="template-mapping-in-data-integration"></a><span data-ttu-id="a6ee7-195">Šablonų susiejimas pasirinkus Duomenų integravimas</span><span class="sxs-lookup"><span data-stu-id="a6ee7-195">Template mapping in Data integration</span></span>

<span data-ttu-id="a6ee7-196">Šiose iliustracijose pateikiami duomenų integravimo šablonų užduočių susiejimų pavyzdžiai.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-196">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="a6ee7-197">Susiejime rodoma lauko informacija, kuri bus sinchronizuojama iš „Finance“ į „Project Service Automation“.</span><span class="sxs-lookup"><span data-stu-id="a6ee7-197">The mapping shows the field information that will be synchronized from Finance to Project Service Automation.</span></span>

<span data-ttu-id="a6ee7-198">[![Šablonų susiejimas – faktinių duomenų atnaujinimas](./media/ActualsUpdateMapping.jpg)](./media/ActualsUpdateMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="a6ee7-198">[![Template mapping - Actuals update](./media/ActualsUpdateMapping.jpg)](./media/ActualsUpdateMapping.jpg)</span></span>

<span data-ttu-id="a6ee7-199">[![Šablonų susiejimas – operacijos atnaujinimas](./media/TransactionConnectionsUpdate.jpg)](./media/TransactionConnectionsUpdate.jpg)</span><span class="sxs-lookup"><span data-stu-id="a6ee7-199">[![Template mapping - Transaction update](./media/TransactionConnectionsUpdate.jpg)](./media/TransactionConnectionsUpdate.jpg)</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]