---
title: Projektų įvertinimų ir faktinių duomenų integravimas
description: Šioje temoje pateikiama informacijos apie „Project Operations“ projektų įvertinimų ir faktinių duomenų dvigubo rašymo integravimą.
author: sigitac
ms.date: 4/26/2021
ms.topic: article
ms.prod: ''
ms.reviewer: kfend
ms.author: sigitac
ms.openlocfilehash: d8aa1541a3560db175acead1d000895312b299db
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: lt-LT
ms.lasthandoff: 05/10/2021
ms.locfileid: "6000041"
---
# <a name="project-estimates-and-actuals-integration"></a><span data-ttu-id="3aac5-103">Projektų įvertinimų ir faktinių duomenų integravimas</span><span class="sxs-lookup"><span data-stu-id="3aac5-103">Project estimates and actuals integration</span></span>

<span data-ttu-id="3aac5-104">_**Taikoma:** „Project Operations“, skirta ištekliais / atsargose nelaikomomis prekėmis pagrįstiems scenarijams_</span><span class="sxs-lookup"><span data-stu-id="3aac5-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="3aac5-105">Šioje temoje pateikiama informacijos apie „Project Operations“ projektų įvertinimų ir faktinių duomenų dvigubo rašymo integravimą.</span><span class="sxs-lookup"><span data-stu-id="3aac5-105">This topic provides information about Project Operations dual-write integration for project estimates and actuals.</span></span>

## <a name="project-estimates"></a><span data-ttu-id="3aac5-106">Projekto įvertinimai</span><span class="sxs-lookup"><span data-stu-id="3aac5-106">Project estimates</span></span>

<span data-ttu-id="3aac5-107">Projektų darbo, išlaidų ir medžiagų įvertinimai kuriami bei tvarkomi naudojant „Microsoft Dataverse“ ir apskaitos tikslais sinchronizuojami su „Finance and Operations“ programomis.</span><span class="sxs-lookup"><span data-stu-id="3aac5-107">Project labor, expense, and material estimates are created and maintained in Microsoft Dataverse and synchronized to Finance and Operations apps for accounting purposes.</span></span> <span data-ttu-id="3aac5-108">Naudojant „Finance and Operations“ programas, kūrimo, naujinimo ir naikinimo operacijos nepalaikomos.</span><span class="sxs-lookup"><span data-stu-id="3aac5-108">Create, update, and delete operations aren't supported through the Finance and Operations apps.</span></span>

<span data-ttu-id="3aac5-109">Norint kurti įvertinimus, reikia tinkamos projekto apskaitos konfigūracijos.</span><span class="sxs-lookup"><span data-stu-id="3aac5-109">Creating estimates requires a valid accounting configuration for the project.</span></span> <span data-ttu-id="3aac5-110">Su sutarties eilutėmis susieti projektai turi turėti tinkamą projekto kaštų ir pajamų profilį, apibrėžtą projekto kaštų ir pajamų profilių taisyklėse.</span><span class="sxs-lookup"><span data-stu-id="3aac5-110">Projects that are associated with contract lines must have a valid project cost and revenue profile defined in the Project cost and revenue profile rules.</span></span> <span data-ttu-id="3aac5-111">Norėdami sužinoti daugiau, žr. [Apmokėtinų projektų apskaitos konfigūravimas](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span><span class="sxs-lookup"><span data-stu-id="3aac5-111">For more information, see [Configure accounting for billable projects](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span></span>

## <a name="labor-estimates"></a><span data-ttu-id="3aac5-112">Darbo įvertinimai</span><span class="sxs-lookup"><span data-stu-id="3aac5-112">Labor estimates</span></span>

<span data-ttu-id="3aac5-113">Darbo įvertinimus sukuria projekto vadovas arba išteklių vadovas, kuris taip pat projekto užduočiai priskiria bendrąjį arba įvardytąjį išteklių.</span><span class="sxs-lookup"><span data-stu-id="3aac5-113">Labor estimates are created by the Project Manager or Resource manager who also assigns a generic or named resource to the project task.</span></span> <span data-ttu-id="3aac5-114">Išteklių priskyrimo įrašus galima peržiūrėti „Dataverse“ skirtuko **Išteklių priskyrimai** puslapyje **Išsami projekto informacija**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-114">Resource assignment records can be reviewed on the **Resource Assignments** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="3aac5-115">Naudodami **„Project Operations“ integravimo objektą, skirtą valandų įvertinimams (msdyn\_resourceassignments)**, „Dataverse“ išteklių priskyrimo įrašai „Finance and Operations“ programose sukuria valandų prognozių įrašus.</span><span class="sxs-lookup"><span data-stu-id="3aac5-115">Resource assignment records in Dataverse create hour forecast records in Finance and Operations apps using **Project Operations integration entity for hour estimates (msdyn\_resourceassignments)**.</span></span>

   ![Darbo įvertinimų integravimas](./Media/DW4LaborEstimates.png)

<span data-ttu-id="3aac5-117">Dvigubo rašymo funkcija sinchronizuoja išteklių priskyrimo įrašus su eilučių paruošimo lentele (**ProjCDSKurdsKurdIngSImport**), o tada naudoja verslo logiką valandų prognozių įrašams kurti ir naujinti (**ProjForecastEmpl**).</span><span class="sxs-lookup"><span data-stu-id="3aac5-117">Dual-write synchronizes resource assignment records to the staging table (**ProjCDSEstimateHoursImport**), and then uses business logic to create and update hour forecast records (**ProjForecastEmpl**).</span></span>

<span data-ttu-id="3aac5-118">Projektų buhalteris peržiūri „Finance and Operations“ programose sukurtus prognozių valandų įrašus nueidamas į **Projektų tvarkymas ir apskaita** > **Visi projektai** > **Planas** > **Valandų prognozės**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-118">The Project accountant reviews forecast hour records created in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Hour forecasts**.</span></span>

## <a name="expense-estimates"></a><span data-ttu-id="3aac5-119">Išlaidų sąmatos</span><span class="sxs-lookup"><span data-stu-id="3aac5-119">Expense estimates</span></span>

<span data-ttu-id="3aac5-120">Išlaidų įvertinimus projekto vadovas sukuria „Dataverse“ puslapio **Išsami projekto informacija** skirtuke **Išlaidų įvertinimai**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-120">Expense estimates are created by the Project manager on the **Expense Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="3aac5-121">Išlaidų įvertinimų įrašai saugomi „Dataverse“ objekte **Įvertinimo eilutė**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-121">Expense estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="3aac5-122">Šiems įvertinimų įrašams priskirta operacijų klasė **Išlaidos** ir jie sinchronizuojami su išlaidų prognozių įrašais „Finance and Operations“ programose naudojant **„Project Operations“ integravimo objektą, skirtą išlaidų įvertinimams (msdyn \_estimatelines)**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-122">These estimate records have transaction class, **Expense** and are synchronized to expense forecast records in Finance and Operations apps using **Project Operations integration entity for expense estimates (msdyn\_estimatelines)**.</span></span>

   ![Išlaidų įvertinimų integravimas](./Media/DW4ExpenseEstimates.png)

<span data-ttu-id="3aac5-124">Dvigubo rašymo funkcija sinchronizuoja išlaidų įvertinimų įrašus su eilučių paruošimo lentele (**ProjCDSEstimateExpenseImport**), o tada naudoja verslo logiką išlaidų prognozių įrašams kurti ir naujinti (**ProjForecastCost**).</span><span class="sxs-lookup"><span data-stu-id="3aac5-124">Dual-write synchronizes expense estimate records to the staging table, **ProjCDSEstimateExpenseImport)** and then uses business logic to create and update expense forecast records (**ProjForecastCost**).</span></span> <span data-ttu-id="3aac5-125">Įvertinimo eilutėse pardavimo įvertinimų ir kaštų įvertinimų įrašai saugomi atskirai.</span><span class="sxs-lookup"><span data-stu-id="3aac5-125">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="3aac5-126">„Finance and Operations“ programų verslo logika automatiškai įveda vieną išlaidų prognozės įrašą naudodama šią išsamią informaciją eilučių paruošimo lentelėje.</span><span class="sxs-lookup"><span data-stu-id="3aac5-126">The business logic in Finance and Operations apps populates a single Expense forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="3aac5-127">Projektų buhalteris gali peržiūrėti išlaidų prognozių įrašus „Finance and Operations“ programose nueidamas į **Projektų tvarkymas ir apskaita** > **Visi projektai** > **Planas** > **Išlaidų prognozės**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-127">The Project accountant can review expense forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Expense forecasts**.</span></span>

## <a name="material-estimates"></a><span data-ttu-id="3aac5-128">Medžiagų įvertinimai</span><span class="sxs-lookup"><span data-stu-id="3aac5-128">Material estimates</span></span>

<span data-ttu-id="3aac5-129">Medžiagų įvertinimus projekto vadovas sukuria „Dataverse“ puslapio **Išsami projekto informacija** skirtuke **Medžiagų įvertinimai**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-129">Material estimates are created by the Project manager on the **Material Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="3aac5-130">Medžiagų įvertinimų įrašai saugomi „Dataverse“ objekte **Įvertinimo eilutė**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-130">Material estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="3aac5-131">Šiems įvertinimų įrašams priskirta operacijų klasė **Medžiaga** ir jie sinchronizuojami su prekių prognozių įrašais „Finance and Operations“ programose naudojant **„Project Operations“ integravimo lentelę, skirtą medžiagų įvertinimams (msdyn \_estimatelines)**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-131">These estimate records have the transaction class, **Material** and are synchronized to item forecast records in Finance and Operations apps using **Project integration table for material estimates (msdyn\_estimatelines)**.</span></span>

   ![Medžiagų įvertinimų integravimas](./Media/DW4MaterialEstimates.png)

<span data-ttu-id="3aac5-133">Dvigubo rašymo funkcija sinchronizuoja medžiagų įvertinimų įrašus su eilučių paruošimo lentele (**ProjForecastSalesImpor**), o tada naudoja verslo logiką prekių prognozių įrašams kurti ir naujinti (**ForecastSales**).</span><span class="sxs-lookup"><span data-stu-id="3aac5-133">Dual-write synchronizes material estimate records to the staging table **ProjForecastSalesImpor**, and then uses business logic to create and update item forecast records (**ForecastSales**).</span></span> <span data-ttu-id="3aac5-134">Įvertinimo eilutėse pardavimo įvertinimų ir kaštų įvertinimų įrašai saugomi atskirai.</span><span class="sxs-lookup"><span data-stu-id="3aac5-134">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="3aac5-135">„Finance and Operations“ programų verslo logika automatiškai įveda vieną prekės prognozės įrašą naudodama šią išsamią informaciją eilučių paruošimo lentelėje.</span><span class="sxs-lookup"><span data-stu-id="3aac5-135">The business logic in Finance and Operations apps populates a single Item forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="3aac5-136">Projektų buhalteris gali peržiūrėti prekių prognozių įrašus „Finance and Operations“ programose nueidamas į **Projektų tvarkymas ir apskaita** > **Visi projektai** > **Planas** > **Prekių prognozės**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-136">The Project accountant can review item forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Item forecasts**.</span></span>

## <a name="project-actuals"></a><span data-ttu-id="3aac5-137">Projekto faktiniai duomenys</span><span class="sxs-lookup"><span data-stu-id="3aac5-137">Project actuals</span></span>

<span data-ttu-id="3aac5-138">Projekto faktiniai duomenys sprendime „Dataverse“ kuriami pagal laiką, išlaidas, medžiagą ir atsiskaitymo veiklą.</span><span class="sxs-lookup"><span data-stu-id="3aac5-138">Project actuals are created in Dataverse, based on time, expense, material, and billing activity.</span></span> <span data-ttu-id="3aac5-139">Šiame „Dataverse“ objekte užfiksuojami visi šių operacijų atributai, įskaitant kiekį, savikainą, pardavimo kainą ir projektą.</span><span class="sxs-lookup"><span data-stu-id="3aac5-139">All operational attributes of these transactions including quantity, cost price, sales price, and project are captured in this Dataverse entity.</span></span> <span data-ttu-id="3aac5-140">Norėdami gauti daugiau informacijos, žr. [Faktiniai duomenys](../actuals/actuals-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3aac5-140">For more information, see [Actuals](../actuals/actuals-overview.md).</span></span> <span data-ttu-id="3aac5-141">Faktiniai įrašai sinchronizuojami su „Finance and Operations“ programomis naudojant dvigubo rašymo lentelės schemą **„Project Operations“ integravimo faktiniai duomenys (msdyn\_actuals)**, skirtą tolimesnei apskaitai.</span><span class="sxs-lookup"><span data-stu-id="3aac5-141">Actual records are synchronized to Finance and Operations apps using the dual-write table map **Project Operations integration actuals (msdyn\_actuals)** for downstream accounting.</span></span>

   ![Faktinių duomenų integravimas](./Media/DW4Actuals.png)

<span data-ttu-id="3aac5-143">Lentelės schema **„Project Operations“ integravimo faktiniai duomenys** sinchronizuoja visus „Dataverse“ objekto **Faktiniai duomenys** įrašus, kai atributas **Praleisti sinchronizavimą (naudoti tik viduje)** nustatytas kaip **Klaidinga**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-143">The **Project Operations integration actuals** table map synchronizes all the records from the **Actuals** entity in Dataverse, with the attribute **Skip Sync (internal use only)** set to **False**.</span></span> <span data-ttu-id="3aac5-144">Ši atributo reikšmė sprendime „Dataverse“ nustatoma automatiškai, kuriant įrašą.</span><span class="sxs-lookup"><span data-stu-id="3aac5-144">This attribute value is set in Dataverse automatically when the record is created.</span></span> <span data-ttu-id="3aac5-145">Toliau pateikti pavyzdžiai, kai šis atributas nustatytas kaip **Teisinga**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-145">Examples where this attribute is set to **True** are:</span></span>

  - <span data-ttu-id="3aac5-146">Projekto kaštų faktiniai duomenys apie vidinės įmonės operacijas.</span><span class="sxs-lookup"><span data-stu-id="3aac5-146">Project cost actuals for intercompany transactions.</span></span> <span data-ttu-id="3aac5-147">Norėdami sužinoti daugiau, žr. [Vidinės įmonės operacijų kūrimas](../project-accounting/create-intercompany-transactions.md).</span><span class="sxs-lookup"><span data-stu-id="3aac5-147">For more information, see [Create intercompany transactions](../project-accounting/create-intercompany-transactions.md).</span></span> <span data-ttu-id="3aac5-148">Šie įrašai praleidžiami, nes, užregistravus vidinės įmonės tiekėjo sąskaitą faktūrą, „Finance and Operations“ programose sistema iš naujo sukuria projekto kaštų faktinius duomenis.</span><span class="sxs-lookup"><span data-stu-id="3aac5-148">These records are skipped because the system recreates the project cost actual in Finance and Operations apps when the intercompany vendor invoice is posted.</span></span>
  - <span data-ttu-id="3aac5-149">Neigiami pardavimo, už kurį neišrašyta sąskaita, įrašai sukuriami patvirtinus išankstinę sąskaitą faktūrą.</span><span class="sxs-lookup"><span data-stu-id="3aac5-149">Negative unbilled sales records created when the proforma invoice is confirmed.</span></span> <span data-ttu-id="3aac5-150">Šie įrašai praleidžiami, nes „Finance and Operations“ programų projekto papildoma didžioji knyga neatšaukia pardavimo, už kurį neišrašyta sąskaita, kai išrašoma sąskaita faktūra, bet pakeičia būseną į už visą sumą išrašytos sąskaitos faktūros.</span><span class="sxs-lookup"><span data-stu-id="3aac5-150">These records are skipped because the project subledger in Finance and Operations apps doesn't reverse the unbilled sales record at invoicing but changes the status to fully invoiced.</span></span>

<span data-ttu-id="3aac5-151">Dvigubo rašymo lentelės schema faktinių duomenų įrašus sinchronizuoja su įrašų paruošimo lentele **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-151">The dual-write table map synchronizes the actuals records to the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="3aac5-152">Šiuos įrašus apdoroja periodinis procesas **Importavimas iš įrašų paruošimo lentelės**, kai kuriamos „Project Operations“ integravimo žurnalo eilutės ir projekto sąskaitų faktūrų pasiūlymų eilutės.</span><span class="sxs-lookup"><span data-stu-id="3aac5-152">These records are processed by the periodic process **Import from staging table** when creating Project Operations integration journal lines and project invoice proposal lines.</span></span> <span data-ttu-id="3aac5-153">Norėdami sužinoti daugiau, žr. [„Project Operations“ integravimo žurnalas](../project-accounting/project-operations-integration-journal.md).</span><span class="sxs-lookup"><span data-stu-id="3aac5-153">For more information, see [Integration journal in Project Operations](../project-accounting/project-operations-integration-journal.md).</span></span>

<span data-ttu-id="3aac5-154">„Dataverse“ taip pat užfiksuoja ryšius tarp projekto faktinių operacijų objekte **Operacijos ryšys**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-154">Dataverse also captures the links between the project actual transactions in the **Transaction connection** entity.</span></span> <span data-ttu-id="3aac5-155">Norėdami sužinoti daugiau, žr. [Faktinių duomenų susiejimas su pradiniais įrašais](../actuals/linkingactuals.md).</span><span class="sxs-lookup"><span data-stu-id="3aac5-155">For more information, see [Link actuals to original records](../actuals/linkingactuals.md).</span></span> <span data-ttu-id="3aac5-156">Saitai tarp faktinių operacijų taip pat sinchronizuojami su „Finance and Operations“ programomis naudojant dvigubo rašymo lentelės schemą **Projekto operacijų ryšių integravimo objektas (msdyn \_transactionconnections)**.</span><span class="sxs-lookup"><span data-stu-id="3aac5-156">Links between actual transactions are also synchronized to Finance and Operations apps using the dual-write table map, **Integration entity for project transaction relationships (msdyn\_transactionconnections)**.</span></span> <span data-ttu-id="3aac5-157">Šiuos įrašus naudoja periodinis procesas **Importavimas iš įrašų paruošimo lentelės**, kai kuriamos „Project Operations“ integravimo žurnalo eilutės ir projekto sąskaitų faktūrų pasiūlymų eilutės.</span><span class="sxs-lookup"><span data-stu-id="3aac5-157">These records are used by the periodic process, **Import from staging table** when creating Project Operations integration journal lines and Project invoice proposal lines.</span></span>

<span data-ttu-id="3aac5-158">Registruojant „Project Operations“ integravimo žurnalą ir projekto sąskaitos faktūros pasiūlymą, paleidžiamas atitinkamų įrašų, esančių jų paruošimo lentelėje **ProjCDSActualsImport**, naujinimas.</span><span class="sxs-lookup"><span data-stu-id="3aac5-158">Posting a Project Operations integration journal and a project invoice proposal triggers an update in respective records in the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="3aac5-159">Sistema užfiksuoja ir įrašo toliau nurodytus faktinių duomenų operacijų apskaitos atributus.</span><span class="sxs-lookup"><span data-stu-id="3aac5-159">The system captures and records the following accounting attributes for actuals transactions:</span></span>

- <span data-ttu-id="3aac5-160">Apskaitos suma</span><span class="sxs-lookup"><span data-stu-id="3aac5-160">Accounting currency amount</span></span>
- <span data-ttu-id="3aac5-161">Valiutos kursas</span><span class="sxs-lookup"><span data-stu-id="3aac5-161">Exchange rate</span></span>
- <span data-ttu-id="3aac5-162">Kvito numeris</span><span class="sxs-lookup"><span data-stu-id="3aac5-162">Voucher number</span></span>
- <span data-ttu-id="3aac5-163">PVM suma</span><span class="sxs-lookup"><span data-stu-id="3aac5-163">Sales tax amount</span></span>

<span data-ttu-id="3aac5-164">Naudodama šią informaciją, lentelės schema **„Project Operations“ integravimo faktiniai duomenys** atnaujina atitinkamus faktinių duomenų įrašus sprendime „Dataverse“.</span><span class="sxs-lookup"><span data-stu-id="3aac5-164">The **Project Operations integration actuals** table map updates respective actuals records in Dataverse with this information.</span></span>
